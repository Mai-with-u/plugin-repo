# å¦‚ä½•å‘éº¦éº¦ï¼ˆMaiBotï¼‰æ’ä»¶ä¸­å¿ƒè´¡çŒ®æ’ä»¶

éå¸¸æ„Ÿè°¢æ‚¨æ„¿æ„ä¸ºéº¦éº¦ï¼ˆMaiBotï¼‰ç”Ÿæ€ç³»ç»Ÿè´¡çŒ®æ‚¨çš„æ—¶é—´å’Œæ‰åï¼æœ¬æŒ‡å—å°†å¼•å¯¼æ‚¨å®Œæˆæäº¤æ’ä»¶çš„å…¨è¿‡ç¨‹ã€‚

## å‡†å¤‡å·¥ä½œï¼šæ’ä»¶ä»“åº“è§„èŒƒ

åœ¨æäº¤æ‚¨çš„æ’ä»¶ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„æ’ä»¶ä»“åº“æ»¡è¶³ä»¥ä¸‹**æ‰€æœ‰è¦æ±‚**ï¼š

### å¿…éœ€æ–‡ä»¶

| æ–‡ä»¶ | è¦æ±‚ |
|------|------|
| `_manifest.json` | ä»“åº“æ ¹ç›®å½•ï¼ŒåŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ |
| `LICENSE` | è®¸å¯è¯ç±»å‹åº”ä¸ manifest ä¸­ `license` å­—æ®µä¸€è‡´ |
| `README.md` | å¼ºçƒˆå»ºè®®åŒ…å«åŠŸèƒ½ä»‹ç»ã€ä½¿ç”¨è¯´æ˜å’Œæˆªå›¾ |

### _manifest.json è§„èŒƒ

ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ `_manifest.json` ç¤ºä¾‹ï¼ˆæ³¨é‡Šè¯·è‡ªè¡Œç§»é™¤ï¼‰ï¼š


```json
{
  "manifest_version": 1, # è¯´æ˜æ–‡ä»¶ç‰ˆæœ¬ï¼ˆç›®å‰åªæœ‰1ï¼‰
  "name": "ç¤ºä¾‹æ’ä»¶", # æ’ä»¶åç§°
  "version": "1.0.0", # æ’ä»¶ç‰ˆæœ¬
  "description": "è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ’ä»¶", # æ’ä»¶ä»‹ç»
  "author": { # æ’ä»¶ä½œè€…ä¿¡æ¯
    "name": "MaiBot å›¢é˜Ÿ", # æ’ä»¶ä½œè€…åç§°
    "url": "https://github.com/MaiM-with-u", # æ’ä»¶ä½œè€…ä¸»é¡µ
  },
  "license": "MIT", # æ’ä»¶è®¸å¯ç‰ˆæœ¬
  "host_application": {
    "min_version": "0.7.0", # æ’ä»¶é€‚é…éº¦éº¦æœ€ä½ç‰ˆæœ¬
    "max_version": "0.8.0" # æ’ä»¶é€‚é…éº¦éº¦æœ€é«˜ç‰ˆæœ¬
  },
  "homepage_url": "https://github.com/MaiM-with-u", # æ’ä»¶ä¸»é¡µ
  "repository_url": "https://github.com/MaiM-with-u/plugin-repo", # æ’ä»¶ä»“åº“åœ°å€
  "categories": ["Developer Tools"], # æ’ä»¶åˆ†ç±»ã€‚å…·ä½“é¡¹ç›®è¯·çœ‹ä¸‹é¢é“¾æ¥ä¸­çš„ä»‹ç»
}
```

**å¿…éœ€å­—æ®µ**ï¼š`manifest_version`, `name`, `version`, `description`, `author`, `license`, `host_application`

> [!IMPORTANT]
> - `author` å¿…é¡»æ˜¯åŒ…å« `name` å’Œ `url` çš„**å¯¹è±¡**ï¼Œä¸èƒ½æ˜¯å­—ç¬¦ä¸²
> - `host_application` å¿…é¡»åŒ…å« `min_version` å­—æ®µ

> [!TIP]
> å¼ºçƒˆå»ºè®®æ·»åŠ  `repository_url` å­—æ®µï¼Œä¾¿äº WebUI æˆ–å…¶ä»–ç¬¬ä¸‰æ–¹å·¥å…·ä¸€é”®éƒ¨ç½²æ‚¨çš„æ’ä»¶

ğŸ“– **è¯¦ç»†æ–‡æ¡£**ï¼š[_manifest.json å­—æ®µè¯´æ˜](https://docs.mai-mai.org/develop/plugin_develop/manifest-guide.html#%F0%9F%93%8B-%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E)

---

## æäº¤æ–¹å¼ä¸€ï¼šIssue æäº¤ï¼ˆæ¨èï¼‰âœ¨

è¿™æ˜¯æœ€ç®€å•çš„æ–¹å¼ï¼Œ**æ— éœ€ Forkã€æ— éœ€æœ¬åœ° Git æ“ä½œã€æ— åˆå¹¶å†²çª**ã€‚

### æ­¥éª¤

1. **åˆ›å»º Issue**ï¼šç‚¹å‡» [New Issue](../../issues/new/choose)ï¼Œé€‰æ‹© **"Add Plugin / æ·»åŠ æ’ä»¶"** æ¨¡æ¿

2. **å¡«å†™ä¿¡æ¯**ï¼š
   - **æ’ä»¶ ID**ï¼šå»ºè®®æ ¼å¼ `ä½ çš„ç”¨æˆ·å.æ’ä»¶ä»“åº“å`
   - **ä»“åº“åœ°å€**ï¼šå®Œæ•´çš„ GitHub HTTPS URL

3. **ç­‰å¾…éªŒè¯**ï¼šCI ä¼šè‡ªåŠ¨éªŒè¯æ‚¨çš„æ’ä»¶ä»“åº“ï¼Œç»“æœä¼šè¯„è®ºåœ¨ Issue ä¸­

4. **ç­‰å¾…æ‰¹å‡†**ï¼šéªŒè¯é€šè¿‡åï¼Œç»´æŠ¤è€…ä¼šå®¡æ ¸å¹¶ä½¿ç”¨ `/approve` æ‰¹å‡†

### çŠ¶æ€æ ‡ç­¾è¯´æ˜

| æ ‡ç­¾ | å«ä¹‰ |
|------|------|
| `pending-validation` | ç­‰å¾…è‡ªåŠ¨éªŒè¯ |
| `validated` | âœ… éªŒè¯é€šè¿‡ï¼Œç­‰å¾…ç»´æŠ¤è€…æ‰¹å‡† |
| `validation-failed` | âŒ éªŒè¯å¤±è´¥ï¼Œè¯·æ ¹æ®æç¤ºä¿®å¤ |
| `approved` | ğŸ‰ å·²æ‰¹å‡†å¹¶æ·»åŠ åˆ°æ’ä»¶ä¸­å¿ƒ |
| `rejected` | ğŸš« è¢«ç»´æŠ¤è€…æ‹’ç» |

### å¯ç”¨å‘½ä»¤

| å‘½ä»¤ | è°å¯ä»¥ä½¿ç”¨ | è¯´æ˜ |
|------|-----------|------|
| `/recheck` | Issue ä½œè€…ã€ç»´æŠ¤è€… | é‡æ–°è§¦å‘éªŒè¯ï¼ˆä¿®æ”¹ manifest åä½¿ç”¨ï¼‰ |
| `/approve` | ä»…ç»´æŠ¤è€… | æ‰¹å‡†å¹¶æ·»åŠ æ’ä»¶ |
| `/reject åŸå› ` | ä»…ç»´æŠ¤è€… | æ‹’ç»æ’ä»¶å¹¶è¯´æ˜åŸå›  |

### éªŒè¯å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

1. æ ¹æ® Issue ä¸­çš„é”™è¯¯æç¤ºä¿®æ”¹æ‚¨çš„æ’ä»¶ä»“åº“
2. ä¿®æ”¹å®Œæˆåï¼Œåœ¨ Issue ä¸­è¯„è®º `/recheck`
3. CI ä¼šé‡æ–°éªŒè¯ï¼Œç»“æœä¼šå†æ¬¡è¯„è®ºåœ¨ Issue ä¸­

---

## æäº¤æ–¹å¼äºŒï¼šPR æäº¤ï¼ˆå·²å¼ƒç”¨ï¼‰

> [!WARNING]
> **æ­¤æ–¹å¼å·²å¼ƒç”¨**ï¼Œå»ºè®®ä½¿ç”¨ä¸Šè¿° Issue æ–¹å¼ã€‚
> 
> PR æ–¹å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
> - éœ€è¦ Fork ä»“åº“å’Œæœ¬åœ° Git æ“ä½œ
> - å¤šäººåŒæ—¶æäº¤æ—¶å®¹æ˜“äº§ç”Ÿåˆå¹¶å†²çª
> - æ“ä½œæµç¨‹å¤æ‚

å¦‚æœæ‚¨ä»å¸Œæœ›ä½¿ç”¨ PR æ–¹å¼ï¼š

1. **Fork æœ¬ä»“åº“**
2. **Clone å¹¶åˆ›å»ºåˆ†æ”¯**ï¼š
   ```bash
   git clone https://github.com/YOUR-USERNAME/plugin-repo.git
   cd plugin-repo
   git checkout -b add/your-plugin-name
   ```
3. **ç¼–è¾‘ `plugins.json`**ï¼Œåœ¨æ•°ç»„**æœ«å°¾**æ·»åŠ ï¼š
   ```json
   {
     "id": "your-username.your-plugin-name",
     "repositoryUrl": "https://github.com/YOUR-USERNAME/YOUR-PLUGIN-REPO"
   }
   ```
4. **æäº¤å¹¶æ¨é€**ï¼š
   ```bash
   git add plugins.json
   git commit -m "feat: Add [Your Plugin Name] plugin"
   git push origin add/your-plugin-name
   ```
5. **åˆ›å»º Pull Request**

> [!NOTE]
> PR åˆ›å»ºåä¼šæ”¶åˆ°å¼•å¯¼æ¶ˆæ¯ï¼Œå»ºè®®æ‚¨æ”¹ç”¨ Issue æ–¹å¼æäº¤ã€‚

---

## å¸¸è§é—®é¢˜

### éªŒè¯é”™è¯¯ï¼šæ— æ³•è·å– _manifest.json

**å¯èƒ½åŸå› **ï¼š
- æ–‡ä»¶åé”™è¯¯ï¼ˆå¿…é¡»æ˜¯ `_manifest.json`ï¼Œæ³¨æ„ä¸‹åˆ’çº¿ï¼‰
- ä»“åº“ä¸æ˜¯å…¬å¼€çš„
- æ–‡ä»¶ä¸åœ¨ main/master/dev/develop åˆ†æ”¯çš„æ ¹ç›®å½•

### éªŒè¯é”™è¯¯ï¼šauthor å­—æ®µæ ¼å¼é”™è¯¯

**æ­£ç¡®æ ¼å¼**ï¼š
```json
"author": {
  "name": "ä½œè€…å",
  "url": "https://github.com/username"
}
```

**é”™è¯¯æ ¼å¼**ï¼š
```json
"author": "ä½œè€…å"  // âŒ ä¸èƒ½æ˜¯å­—ç¬¦ä¸²
```

### æ’ä»¶ ID æ ¼å¼è¦æ±‚

- âœ… `username.my-plugin`
- âœ… `my_plugin_name`
- âŒ `My Plugin`ï¼ˆä¸èƒ½æœ‰ç©ºæ ¼ï¼‰
- âŒ `../path`ï¼ˆä¸èƒ½æœ‰è·¯å¾„å­—ç¬¦ï¼‰

### ä»“åº“ URL æ ¼å¼è¦æ±‚

- âœ… `https://github.com/username/repo-name`
- âŒ `https://github.com/username/repo-name.git`
- âŒ `git@github.com:username/repo-name.git`

---

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœæ‚¨åœ¨æäº¤è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œå¯ä»¥åœ¨ Issue ä¸­æè¿°æ‚¨çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šå°½å¿«å›å¤

æ„Ÿè°¢æ‚¨å¯¹éº¦éº¦ï¼ˆMaiBotï¼‰ç”Ÿæ€çš„è´¡çŒ®ï¼ğŸ‰
